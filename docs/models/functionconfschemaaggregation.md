# FunctionConfSchemaAggregation


## Fields

| Field                                                                                                                                                                                                                                                                                                                                         | Type                                                                                                                                                                                                                                                                                                                                          | Required                                                                                                                                                                                                                                                                                                                                      | Description                                                                                                                                                                                                                                                                                                                                   |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `passthrough`                                                                                                                                                                                                                                                                                                                                 | *Optional[bool]*                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Pass through the original events along with the aggregation events                                                                                                                                                                                                                                                                            |
| `preserve_group_bys`                                                                                                                                                                                                                                                                                                                          | *Optional[bool]*                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Preserve the structure of the original aggregation event's groupby fields                                                                                                                                                                                                                                                                     |
| `sufficient_stats_only`                                                                                                                                                                                                                                                                                                                       | *Optional[bool]*                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Output only statistics that are sufficient for the supplied aggregations                                                                                                                                                                                                                                                                      |
| `metrics_mode`                                                                                                                                                                                                                                                                                                                                | *Optional[bool]*                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Enable to output the aggregates as metrics. When disabled, aggregates are output as events.                                                                                                                                                                                                                                                   |
| `prefix`                                                                                                                                                                                                                                                                                                                                      | *Optional[str]*                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | A prefix that is prepended to all of the fields output by this Aggregations Function                                                                                                                                                                                                                                                          |
| `time_window`                                                                                                                                                                                                                                                                                                                                 | *Optional[str]*                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | The time span of the tumbling window for aggregating events. Must be a valid time string (such as 10s).                                                                                                                                                                                                                                       |
| `aggregations`                                                                                                                                                                                                                                                                                                                                | List[*str*]                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Aggregate function to perform on events. Example: sum(bytes).where(action=='REJECT').as(TotalBytes)                                                                                                                                                                                                                                           |
| `groupbys`                                                                                                                                                                                                                                                                                                                                    | List[*str*]                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Optional: One or more fields to group aggregates by. Supports wildcard expressions. Warning: Using wildcard '*' causes all fields in the event to be included, which can result in high cardinality and increased memory usage. Exclude fields that can result in high cardinality before using wildcards. Example: !_time, !_numericValue, * |
| `flush_event_limit`                                                                                                                                                                                                                                                                                                                           | *Optional[float]*                                                                                                                                                                                                                                                                                                                             | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | The maximum number of events to include in any given aggregation event                                                                                                                                                                                                                                                                        |
| `flush_mem_limit`                                                                                                                                                                                                                                                                                                                             | *Optional[str]*                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | The memory usage limit to impose upon aggregations. Defaults to 80% of the process memory; value configured above default limit is ignored. Accepts numerals with units like KB and MB (example: 128MB).                                                                                                                                      |
| `cumulative`                                                                                                                                                                                                                                                                                                                                  | *Optional[bool]*                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Enable to retain aggregations for cumulative aggregations when flushing out an aggregation table event. When disabled (the default), aggregations are reset to 0 on flush.                                                                                                                                                                    |
| `search_agg_mode`                                                                                                                                                                                                                                                                                                                             | *Optional[str]*                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Allows Cribl Search-specific aggregation configuration                                                                                                                                                                                                                                                                                        |
| `add`                                                                                                                                                                                                                                                                                                                                         | List[[models.FunctionConfSchemaAggregationAdd](../models/functionconfschemaaggregationadd.md)]                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Set of key-value pairs to evaluate and add/set                                                                                                                                                                                                                                                                                                |
| `should_treat_dots_as_literals`                                                                                                                                                                                                                                                                                                               | *Optional[bool]*                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Treat dots in dimension names as literals. This is useful for top-level dimensions that contain dots, such as 'service.name'.                                                                                                                                                                                                                 |
| `flush_on_input_close`                                                                                                                                                                                                                                                                                                                        | *Optional[bool]*                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Flush aggregations when an input stream is closed. If disabled, Time Window Settings control flush behavior.                                                                                                                                                                                                                                  |